{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/character.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CharacterListComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"div\", 13);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Conectando con el portal...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CharacterListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_12_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.clearAll());\n    });\n    i0.ɵɵtext(3, \" Reintentar \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage, \" \");\n  }\n}\nfunction CharacterListComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_13_div_1_Template_div_click_1_listener() {\n      const character_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.selectCharacter(character_r4));\n    });\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementStart(3, \"div\", 21)(4, \"h5\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 23)(7, \"div\")(8, \"span\", 24);\n    i0.ɵɵtext(9, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 25);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\")(13, \"span\", 24);\n    i0.ɵɵtext(14, \"Especie:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 26);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const character_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", character_r4.image, i0.ɵɵsanitizeUrl)(\"alt\", character_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(character_r4.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", \"status-\" + character_r4.status.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", character_r4.status, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(character_r4.species);\n  }\n}\nfunction CharacterListComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, CharacterListComponent_div_13_div_1_Template, 17, 6, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.characters);\n  }\n}\nfunction CharacterListComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"p\");\n    i0.ɵɵtext(2, \"\\uD83C\\uDF0C No se detectaron entidades en este portal\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CharacterListComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_15_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goBack());\n    });\n    i0.ɵɵtext(3, \" \\u2190 Atr\\u00E1s \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_15_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goForward());\n    });\n    i0.ɵɵtext(7, \" Adelante \\u2192 \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.page === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" P\\u00E1gina \", ctx_r1.page, \" de \", ctx_r1.maxPages, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.page >= ctx_r1.maxPages);\n  }\n}\nexport let CharacterListComponent = /*#__PURE__*/(() => {\n  class CharacterListComponent {\n    constructor(characterService, router) {\n      this.characterService = characterService;\n      this.router = router;\n      this.characters = [];\n      this.searchTerm = '';\n      this.page = 1;\n      this.maxPages = 1;\n      this.isLoading = false;\n      this.errorMessage = '';\n    }\n    ngOnInit() {\n      this.fetchCharacters();\n    }\n    fetchCharacters() {\n      this.isLoading = true;\n      this.errorMessage = '';\n      this.characterService.getCharacters(this.page).subscribe({\n        next: response => {\n          this.characters = response.results;\n          this.maxPages = response.info.pages;\n          this.isLoading = false;\n        },\n        error: err => {\n          this.errorMessage = 'Error al conectar con el portal interdimensional';\n          this.isLoading = false;\n          console.error('Error:', err);\n        }\n      });\n    }\n    performSearch() {\n      if (!this.searchTerm.trim()) {\n        this.errorMessage = 'Escribe algo en la búsqueda';\n        return;\n      }\n      this.isLoading = true;\n      this.errorMessage = '';\n      this.page = 1;\n      this.characterService.searchCharacters(this.searchTerm, this.page).subscribe({\n        next: response => {\n          this.characters = response.results;\n          this.maxPages = response.info.pages;\n          this.isLoading = false;\n        },\n        error: err => {\n          this.errorMessage = `No se encontró \"${this.searchTerm}\" en el portal`;\n          this.characters = [];\n          this.isLoading = false;\n          console.error('Error:', err);\n        }\n      });\n    }\n    clearAll() {\n      this.searchTerm = '';\n      this.page = 1;\n      this.errorMessage = '';\n      this.fetchCharacters();\n    }\n    goForward() {\n      if (this.page < this.maxPages) {\n        this.page++;\n        if (this.searchTerm.trim()) {\n          this.performSearch();\n        } else {\n          this.fetchCharacters();\n        }\n      }\n    }\n    goBack() {\n      if (this.page > 1) {\n        this.page--;\n        if (this.searchTerm.trim()) {\n          this.performSearch();\n        } else {\n          this.fetchCharacters();\n        }\n      }\n    }\n    selectCharacter(character) {\n      sessionStorage.setItem('selectedCharacter', JSON.stringify(character));\n      this.router.navigate(['/character', character.id]);\n    }\n    static {\n      this.ɵfac = function CharacterListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || CharacterListComponent)(i0.ɵɵdirectiveInject(i1.CharacterService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CharacterListComponent,\n        selectors: [[\"app-character-list\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 16,\n        vars: 6,\n        consts: [[1, \"container-fluid\"], [1, \"main-content\"], [1, \"search-container\"], [\"type\", \"text\", \"placeholder\", \"Escribe un nombre...\", 1, \"search-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"button-group\"], [1, \"btn-search\", 3, \"click\"], [1, \"btn-clear\", 3, \"click\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"alert\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"row g-4\", 4, \"ngIf\"], [\"class\", \"no-results\", 4, \"ngIf\"], [\"class\", \"pagination-container\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"spinner\"], [\"role\", \"alert\", 1, \"alert\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", \"ms-3\", 3, \"click\"], [1, \"row\", \"g-4\"], [\"class\", \"col-12 col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"col-md-6\"], [1, \"character-card\", 3, \"click\"], [1, \"character-image\", 3, \"src\", \"alt\"], [1, \"character-info\"], [1, \"character-name\"], [1, \"character-details\"], [1, \"character-detail-label\"], [1, \"character-detail-value\", 3, \"ngClass\"], [1, \"character-detail-value\"], [1, \"no-results\"], [1, \"pagination-container\"], [1, \"pagination-controls\"], [1, \"btn-pagination\", \"btn-nav\", 3, \"click\", \"disabled\"], [1, \"page-info-detail\"]],\n        template: function CharacterListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"\\uD83C\\uDF1F PORTAL INTERDIMENSIONAL \\uD83C\\uDF1F\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function CharacterListComponent_Template_input_ngModelChange_5_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_7_listener() {\n              return ctx.performSearch();\n            });\n            i0.ɵɵtext(8, \" \\uD83D\\uDD0D Buscar \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_9_listener() {\n              return ctx.clearAll();\n            });\n            i0.ɵɵtext(10, \" \\u2715 Limpiar \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(11, CharacterListComponent_div_11_Template, 4, 0, \"div\", 7)(12, CharacterListComponent_div_12_Template, 4, 1, \"div\", 8)(13, CharacterListComponent_div_13_Template, 2, 1, \"div\", 9)(14, CharacterListComponent_div_14_Template, 3, 0, \"div\", 10)(15, CharacterListComponent_div_15_Template, 8, 4, \"div\", 11);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage && !ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.characters.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.characters.length === 0 && !ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.characters.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, HttpClientModule],\n        styles: [\".search-nav-container[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;background:#ff98000d;border-radius:12px;border:2px solid rgba(255,152,0,.2)}body.light-mode[_ngcontent-%COMP%]   .search-nav-container[_ngcontent-%COMP%]{background:#ff980014}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.search-input[_ngcontent-%COMP%]{background-color:#1a1a1a!important;border:2px solid #ff9800!important;color:#fff!important;padding:.75rem 1rem!important;border-radius:8px!important;font-size:1rem!important;transition:all .3s ease}body.light-mode[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background-color:#fff!important;color:#333!important}.search-input[_ngcontent-%COMP%]::placeholder{color:#999!important}.search-input[_ngcontent-%COMP%]:focus{border-color:#ffb74d!important;box-shadow:0 0 10px #ff980066!important;outline:none!important}.button-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-search[_ngcontent-%COMP%], .btn-clear[_ngcontent-%COMP%]{flex:1;padding:.6rem 1rem;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-search[_ngcontent-%COMP%]{background-color:#ff9800;color:#000}.btn-search[_ngcontent-%COMP%]:hover{background-color:#ffb74d;transform:translateY(-2px);box-shadow:0 4px 12px #ff980066}.btn-clear[_ngcontent-%COMP%]{background-color:#666;color:#fff}.btn-clear[_ngcontent-%COMP%]:hover{background-color:#888;transform:translateY(-2px)}.direct-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.page-label[_ngcontent-%COMP%]{font-weight:700;color:#ff9800;font-size:.95rem;margin-bottom:.25rem}body.light-mode[_ngcontent-%COMP%]   .page-label[_ngcontent-%COMP%]{color:#ff9800}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.page-input[_ngcontent-%COMP%]{background-color:#1a1a1a!important;border:2px solid #ff9800!important;color:#fff!important;padding:.6rem!important;border-radius:6px!important;font-weight:700!important;text-align:center!important;font-size:1rem!important;max-width:100px}body.light-mode[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{background-color:#fff!important;color:#333!important}.page-input[_ngcontent-%COMP%]:focus{border-color:#ffb74d!important;box-shadow:0 0 10px #ff980066!important;outline:none!important}.page-total[_ngcontent-%COMP%]{color:#999;font-weight:600;font-size:.95rem}body.light-mode[_ngcontent-%COMP%]   .page-total[_ngcontent-%COMP%]{color:#666}.pagination-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin:2.5rem 0;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap;justify-content:center;background:#ff98000d;padding:1.5rem;border-radius:12px;border:2px solid rgba(255,152,0,.2);width:100%}body.light-mode[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{background:#ff980014}.btn-nav[_ngcontent-%COMP%]{padding:.7rem 1.2rem;background-color:#ff9800;color:#000;border:2px solid #ff9800;border-radius:6px;font-weight:700;cursor:pointer;transition:all .3s ease;min-width:130px}.btn-nav[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#ffb74d;box-shadow:0 4px 12px #ff980066;transform:translateY(-2px)}.btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background-color:#666;border-color:#666}.pagination-numbers[_ngcontent-%COMP%]{display:flex;gap:.3rem;flex-wrap:wrap;justify-content:center;align-items:center;flex:1;min-width:300px}.btn-page[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border:2px solid #ff9800;background-color:transparent;color:#ff9800;border-radius:6px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}body.light-mode[_ngcontent-%COMP%]   .btn-page[_ngcontent-%COMP%]{border-color:#ff9800;color:#ff9800}.btn-page[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#ff9800;color:#000;transform:scale(1.1)}.btn-page.active[_ngcontent-%COMP%]{background-color:#ff9800;color:#000;box-shadow:0 0 12px #ff980080}.btn-page[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.page-range-indicator[_ngcontent-%COMP%]{color:#999;padding:0 .3rem;font-weight:700}.page-info-detail[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:center;align-items:center;font-weight:700;color:#ff9800;font-size:.95rem}body.light-mode[_ngcontent-%COMP%]   .page-info-detail[_ngcontent-%COMP%]{color:#ff9800}.separator[_ngcontent-%COMP%]{color:#666}@media (max-width: 1024px){.search-nav-container[_ngcontent-%COMP%]{padding:1rem}.pagination-numbers[_ngcontent-%COMP%]{min-width:250px}.btn-page[_ngcontent-%COMP%]{width:36px;height:36px;font-size:.85rem}}@media (max-width: 768px){.search-nav-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{row-gap:1rem}.pagination-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.pagination-numbers[_ngcontent-%COMP%], .btn-nav[_ngcontent-%COMP%]{width:100%;min-width:auto}.page-input[_ngcontent-%COMP%]{max-width:80px!important}.direct-page-container[_ngcontent-%COMP%]{width:100%}.btn-page[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.75rem}.page-range-indicator[_ngcontent-%COMP%]{display:none}.page-info-detail[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 480px){.pagination-numbers[_ngcontent-%COMP%]{gap:.2rem}.btn-page[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.65rem}.pagination-controls[_ngcontent-%COMP%]{padding:1rem}.button-group[_ngcontent-%COMP%]{flex-direction:column}.btn-search[_ngcontent-%COMP%], .btn-clear[_ngcontent-%COMP%]{padding:.5rem .8rem;font-size:.9rem}}\"]\n      });\n    }\n  }\n  return CharacterListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}